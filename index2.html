<div class="container">
    <div class="topic-header">
        <span style="color: var(--accent)">Тема тижня:</span>
        <h2 id="main-topic">Чи може ШІ мати свідомість?</h2>
        <p>Аналіз природи невизначеності: відсутність єдиного визначення "свідомості" у нейронауці.</p>
    </div>

    <div id="debate-grid" class="debate-grid">
        </div>

    <div class="card" style="background: var(--card-bg); padding: 2rem; margin-top: 2rem; border-radius: 12px;">
        <h3>Додати свій внесок у дискусію</h3>
        <input type="text" id="arg-title" placeholder="Заголовок аргументу" style="width: 100%; padding: 10px; margin-bottom: 10px; background: #0f172a; border: 1px solid var(--accent); color: white; border-radius: 5px;">
        <textarea id="arg-text" placeholder="Опишіть вашу гіпотезу..." style="width: 100%; padding: 10px; height: 100px; background: #0f172a; border: 1px solid var(--accent); color: white; border-radius: 5px;"></textarea>
        
        <div style="margin-top: 10px;">
            <label><input type="radio" name="arg-type" value="pro" checked> ЗА (Pro)</label>
            <label style="margin-left: 20px;"><input type="radio" name="arg-type" value="contra"> ПРОТИ (Contra)</label>
        </div>
        
        <button class="btn-action" onclick="addNewArgument()" style="background: var(--accent); color: var(--bg); font-weight: bold;">Опублікувати в Controversia</button>
    </div>
</div>

<script>
    // 1. Початкові дані (імітація бази даних)
    let argumentsData = [
        { id: 1, title: "Функціональна схожість", text: "Якщо система обробляє інформацію так само як мозок, вона має свідомість.", type: "pro", reputation: 142, badge: "Функціоналізм" },
        { id: 2, title: "Китайська кімната", text: "Маніпуляція символами не означає розуміння сенсу цих символів.", type: "contra", reputation: 89, badge: "Джон Серль" }
    ];

    // 2. Функція для відображення аргументів
    function renderArguments() {
        const grid = document.getElementById('debate-grid');
        grid.innerHTML = ''; // Очищуємо перед рендером

        argumentsData.forEach(arg => {
            const card = document.createElement('div');
            card.className = `argument-card ${arg.type}`;
            card.innerHTML = `
                <span class="badge ${arg.type === 'pro' ? 'badge-pro' : 'badge-contra'}">${arg.badge || 'Гіпотеза'}</span>
                <h3>${arg.title}</h3>
                <p>${arg.text}</p>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                    <small style="color: var(--text-muted)">Репутація: <span id="rep-${arg.id}">${arg.reputation}</span></small>
                    <button onclick="upvote(${arg.id})" style="background: none; border: 1px solid var(--text-muted); color: var(--text-muted); cursor: pointer; border-radius: 4px; padding: 2px 8px;">+ Підтримати</button>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    // 3. Додавання нового аргументу
    function addNewArgument() {
        const title = document.getElementById('arg-title').value;
        const text = document.getElementById('arg-text').value;
        const type = document.querySelector('input[name="arg-type"]:checked').value;

        if (!title || !text) {
            alert("Будь ласка, заповніть всі поля.");
            return;
        }

        const newArg = {
            id: Date.now(),
            title: title,
            text: text,
            type: type,
            reputation: 1,
            badge: "Нова ідея"
        };

        argumentsData.unshift(newArg); // Додаємо на початок списку
        renderArguments(); // Оновлюємо екран

        // Очищуємо поля
        document.getElementById('arg-title').value = '';
        document.getElementById('arg-text').value = '';
    }

    // 4. Функція лайку (репутації)
    function upvote(id) {
        const arg = argumentsData.find(a => a.id === id);
        if (arg) {
            arg.reputation++;
            renderArguments();
        }
    }

    // Запускаємо рендер при завантаженні сторінки
    renderArguments();
</script>
